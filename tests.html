<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tests – ApruebaYA</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #121212;
      color: #f0f0f0;
      margin: 0;
      padding: 2rem;
    }

    h1 {
      text-align: center;
      margin-bottom: 2rem;
    }

    .test-container {
      max-width: 800px;
      margin: auto;
      background-color: #1e1e1e;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(255,255,255,0.05);
    }

    .question {
      margin-bottom: 2rem;
    }

    .question h2 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
      cursor: pointer;
    }

    input[type="radio"] {
      margin-right: 0.5rem;
    }

    #resultado {
      margin-top: 2rem;
      font-weight: bold;
      text-align: center;
    }

    button {
      display: block;
      margin: 2rem auto 0;
      padding: 0.8rem 2rem;
      background-color: #333;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
    }

    button:hover {
      background-color: #555;
    }
  </style>
</head>
<body>

  <div class="test-container">
    <h1>Test de conducir</h1>

    <form id="formulario">

      <!-- GENERADAS AUTOMÁTICAMENTE -->

      <script>
        const preguntas = [
          {
            texto: "¿Cuál es la tasa máxima de alcohol permitida en aire espirado para un conductor novel?",
            opciones: ["0,15 mg/l", "0,25 mg/l", "0,30 mg/l"],
            correcta: "0,15 mg/l"
          },
          {
            texto: "¿Qué debe hacer si un semáforo está en rojo pero un agente da paso?",
            opciones: ["Esperar a que el semáforo se ponga en verde", "Hacer caso al agente y pasar", "Tocar el claxon para avisar"],
            correcta: "Hacer caso al agente y pasar"
          },
          {
            texto: "¿Es obligatorio llevar chaleco reflectante en el vehículo?",
            opciones: ["Sí, y debe estar al alcance del conductor", "Solo en caso de viajar de noche", "No es obligatorio"],
            correcta: "Sí, y debe estar al alcance del conductor"
          },
          {
            texto: "¿Cuál es la velocidad máxima en una vía urbana con plataforma única de calzada y acera?",
            opciones: ["20 km/h", "30 km/h", "50 km/h"],
            correcta: "20 km/h"
          },
          {
            texto: "¿Qué indica una línea continua en el centro de la calzada?",
            opciones: ["Prohibido adelantar", "Permite adelantar con precaución", "Fin de vía preferente"],
            correcta: "Prohibido adelantar"
          },
          {
            texto: "¿Cuándo se puede usar el claxon?",
            opciones: ["Para saludar", "En caso de emergencia o evitar un accidente", "Para avisar en cruces"],
            correcta: "En caso de emergencia o evitar un accidente"
          },
          {
            texto: "¿Cuál es la edad mínima para obtener el permiso B?",
            opciones: ["16 años", "17 años", "18 años"],
            correcta: "18 años"
          },
          {
            texto: "¿Qué documentos debe llevar obligatoriamente un conductor?",
            opciones: ["Permiso de circulación y seguro", "Carnet, permiso y tarjeta ITV", "Solo el DNI"],
            correcta: "Carnet, permiso y tarjeta ITV"
          },
          {
            texto: "¿Qué significa una señal triangular con borde rojo y una bicicleta dentro?",
            opciones: ["Fin de vía ciclista", "Peligro por presencia de ciclistas", "Obligación para ciclistas"],
            correcta: "Peligro por presencia de ciclistas"
          },
          {
            texto: "¿En qué casos está permitido circular marcha atrás?",
            opciones: ["Para aparcar o maniobrar", "En cualquier caso", "Nunca"],
            correcta: "Para aparcar o maniobrar"
          },
          {
            texto: "¿Qué significa una luz amarilla intermitente en un semáforo?",
            opciones: ["Prioridad absoluta", "Paso con precaución", "Prohibido el paso"],
            correcta: "Paso con precaución"
          },
          {
            texto: "¿Qué separación lateral debes dejar al adelantar a un ciclista?",
            opciones: ["1,5 metros", "2 metros", "3 metros"],
            correcta: "1,5 metros"
          },
          {
            texto: "¿Cuánto tiempo de reacción promedio tiene un conductor?",
            opciones: ["0,5 segundos", "1 segundo", "2 segundos"],
            correcta: "1 segundo"
          },
          {
            texto: "¿Qué se entiende por distancia de seguridad?",
            opciones: ["Distancia a la que no se ve el coche de delante", "Distancia que permite frenar sin colisionar", "Distancia de visibilidad lateral"],
            correcta: "Distancia que permite frenar sin colisionar"
          },
          {
            texto: "¿Cuál es la señal que indica ‘stop’?",
            opciones: ["Circular con fondo azul", "Triángulo rojo", "Octógono rojo"],
            correcta: "Octógono rojo"
          }
        ];

        let html = "";
        preguntas.forEach((pregunta, index) => {
          const numero = index + 1;
          html += `<div class="question"><h2>${numero}. ${pregunta.texto}</h2>`;
          pregunta.opciones.forEach((opcion, idx) => {
            const letra = String.fromCharCode(97 + idx); // a, b, c...
            html += `<label><input type="radio" name="q${numero}" value="${opcion}"> ${opcion}</label>`;
          });
          html += `</div>`;
        });

        document.write(html);
      </script>

      <button type="button" onclick="corregir()">Corregir</button>
      <div id="resultado"></div>
    </form>
  </div>

  <script>
    function corregir() {
      const respuestas = [
        "0,15 mg/l",
        "Hacer caso al agente y pasar",
        "Sí, y debe estar al alcance del conductor",
        "20 km/h",
        "Prohibido adelantar",
        "En caso de emergencia o evitar un accidente",
        "18 años",
        "Carnet, permiso y tarjeta ITV",
        "Peligro por presencia de ciclistas",
        "Para aparcar o maniobrar",
        "Paso con precaución",
        "1,5 metros",
        "1 segundo",
        "Distancia que permite frenar sin colisionar",
        "Octógono rojo"
      ];

      let correctas = 0;

      respuestas.forEach((respuesta, i) => {
        const seleccionada = document.querySelector(`input[name="q${i + 1}"]:checked`);
        if (seleccionada && seleccionada.value === respuesta) {
          correctas++;
        }
      });

      document.getElementById("resultado").textContent = `Has acertado ${correctas} de ${respuestas.length} preguntas.`;
    }
  </script>

</body>
</html>
